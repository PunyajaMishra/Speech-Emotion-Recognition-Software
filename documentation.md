## DataFlair - Extract features (mfcc, chroma, mel) from a sound file

Method - to extract feature from the sound file
MFCC - short term power spectrum of a sound
Chroma - 12 diff ptch classes
Mel - MEl Spectrogram Frequency

### Audio Signal
The audio signal is a three-dimensional signal in which three axes represent time, amplitude and frequency.
Librosa is used to analyze and extract features of an audio signal

1. MFCC (Mel-Frequency Cepstral Coefficients)
"Most-frequently considered coefficients".
Cepstrum: information of rate of change in spectral bands

Any periodic component like echoes, show up as "Sharp Peaks" in the corresponding frequency spectrum (fourier spectrum). When we take log of the magnitude of this fourier spectrum and then again take the spectrum of this lof by a cosine transformation, we observe a peak wherever there is a periodic element in the original time signal. Since we apply a transform on the frequency spectrum itself, the resulting spectrum is neither in the frequency domain nor in the time domain and hence Bogert et al. decided to call it the quefrency domain. And this spectrum of the log of the spectrum of the time signal was named cepstrum.

Mel scale is a scale that relates the perceived frequency of a tone to the actual measured frequency. It scales the frequency in order to match more closely what the human ear can hear 

Any sound generated by humans is determined by the shape of their vocal tract (including tongue, teeth, etc). If this shape can be determined correctly, any sound produced can be accurately represented. The envelope of the time power spectrum of the speech signal is representative of the vocal tract and MFCC


2. Zero-crossing rate
Zero-crossing rate is a measure of number of times in a given time interval/frame that the amplitude of the speech signals passes through a value of zero. Key feature to classify percussive sounds. The simplest method to distinguish between voiced and unvoiced speech is to analyze the zero crossing rate. A large number of zero crossings implies that there is no dominant low-frequency oscillation.

3. Energy
The short-time energy of speech signals reflects the amplitude variation. In a typical speech signal we can see that its certain properties considerably changes with time. These facts suggest that simple time domain processing techniques should be capable of providing useful information of signal features, such as intensity, excitation mode, pitch, and possibly even vocal tract parameters, such as formant frequencies.

4. Chroma
In music, the term chroma feature or chromagram closely relates to the twelve different pitch classes. Chroma-based features, which are also referred to as “pitch class profiles”, are a powerful tool for analyzing music whose pitches can be meaningfully categorized (often into twelve categories) and whose tuning approximates to the equal-tempered scale. 
One main property of chroma features is that they capture harmonic and melodic characteristics of music, while being robust to changes in timbre and instrumentation. 
   

## Librosa
import librosa
audio_path = 'audio-path'

### Load an audio & disable sampling
librosa.load(audio_path, sr=none)

### Playing an audio
import IPython.display as ipd
ipd.Audio(audio_path)

-- IPython.display allow us to play an audio on jupyter notebook
//display waveform
%matplotlib inline
import matplotlib.pyplot as plt
import librosa.display
plt.figure(figsize=(14, 5))
librosa.display.waveplot(x, sr=sr)

### Spectogram
A spectrogram is a visual representation of the spectrum of frequencies of sound or other signals as they vary with time. It’s a representation of frequencies changing with respect to time for given music signals.

--display Spectrogram
X = librosa.stft(x)
Xdb = librosa.amplitude_to_db(abs(X))
plt.figure(figsize=(14, 5))
librosa.display.specshow(Xdb, sr=sr, x_axis='time', y_axis='hz') 
#If to pring log of frequencies  
#librosa.display.specshow(Xdb, sr=sr, x_axis='time', y_axis='log')
plt.colorbar()

### MFCC
By printing the shape of mfccs you get how many mfccs are calculated on how many frames. The first value represents the number of mfccs calculated and another value represents a number of frames available.


mfccs = librosa.feature.mfcc(x, sr=sr)
print(mfccs.shape)
#Displaying  the MFCCs:
librosa.display.specshow(mfccs, sr=sr, x_axis='time')